import P,{forwardRef,useRef,useMemo,useState,useCallback,useEffect}from'react';import ie from'embla-carousel-react';import xe from'embla-carousel-autoplay';import U from'clsx';import {jsxs,jsx,Fragment}from'react/jsx-runtime';function K(t){let[o,e]=ie(t),[n,u]=useState(0),[i,m]=useState([]),[l,x]=useState(false),[b,v]=useState(false),f=useCallback(()=>{e&&e.scrollPrev();},[e]),r=useCallback(()=>{e&&e.scrollNext();},[e]),h=useCallback(w=>{e&&e.scrollTo(w);},[e]),p=useCallback(w=>{m(w.scrollSnapList());},[]),c=useCallback(w=>{u(w.selectedScrollSnap()),x(w.canScrollPrev()),v(w.canScrollNext());},[]),d=useCallback(()=>{e&&e.reInit();},[e]),g=useCallback(()=>{e&&e.destroy();},[e]);return useEffect(()=>{if(e)return p(e),c(e),e.on("reInit",p),e.on("reInit",c),e.on("select",c),()=>{e.off("reInit",p),e.off("reInit",c),e.off("select",c);}},[e,p,c]),{selectedIndex:n,scrollSnaps:i,canScrollPrev:l,canScrollNext:b,scrollPrev:f,scrollNext:r,scrollTo:h,reInit:d,destroy:g}}function Z(t=false,o={},e){let{delay:n=4e3,stopOnInteraction:u=true,stopOnMouseEnter:i=true,stopOnFocusIn:m=true}=o,[l,x]=useState(t),b=useRef(null),v=useRef(null),f=useCallback(()=>{b.current&&(clearInterval(b.current),b.current=null),x(false);},[]),r=useCallback(()=>{f(),!(n<=0)&&(b.current=setInterval(()=>{e();},n),x(true));},[n,e,f]),h=useCallback(()=>{l&&(f(),r());},[l,r,f]),p=useCallback(()=>{l?f():r();},[l,r,f]);return useEffect(()=>{if(!i||!v.current)return;let c=()=>{l&&f();},d=()=>{t&&r();},g=v.current;return g.addEventListener("mouseenter",c),g.addEventListener("mouseleave",d),()=>{g.removeEventListener("mouseenter",c),g.removeEventListener("mouseleave",d);}},[t,l,r,f,i]),useEffect(()=>{if(!m||!v.current)return;let c=()=>{l&&f();},d=()=>{t&&r();},g=v.current;return g.addEventListener("focusin",c),g.addEventListener("focusout",d),()=>{g.removeEventListener("focusin",c),g.removeEventListener("focusout",d);}},[t,l,r,f,m]),useEffect(()=>{if(!u||!v.current)return;let c=()=>{l&&h();},d=v.current;return d.addEventListener("click",c),d.addEventListener("touchstart",c),()=>{d.removeEventListener("click",c),d.removeEventListener("touchstart",c);}},[l,h,u]),useEffect(()=>(t?r():f(),()=>{f();}),[t,r,f]),useEffect(()=>{if(o.rootNode){let c=document.querySelector("[data-embla-root]");c&&(v.current=o.rootNode(c));}},[o.rootNode]),{isPlaying:l,play:r,stop:f,reset:h,toggle:p}}function ee(t,o={}){let{onSwipeLeft:e,onSwipeRight:n,threshold:u=50,velocity:i=.5}=o,[m,l]=useState(false),[x,b]=useState(0),[v,f]=useState(0),r=useRef(null),h=useCallback((s,C)=>{r.current={startX:s,startY:C,currentX:s,currentY:C,startTime:Date.now()},l(true);},[]),p=useCallback((s,C)=>{if(!r.current||!t.current)return;let D=s-r.current.startX,oe=C-r.current.startY;if(Math.abs(D)>Math.abs(oe)){r.current.currentX=s,r.current.currentY=C;let se=t.current.offsetWidth,ne=D/se*100;b(ne),f(D);}},[t]),c=useCallback(()=>{if(!r.current)return;let s=r.current.currentX-r.current.startX,C=Date.now()-r.current.startTime,D=Math.abs(s)/C;(Math.abs(s)>u||D>i)&&(s>0&&n?n():s<0&&e&&e()),r.current=null,l(false),b(0),f(0);},[u,i,e,n]),d=useCallback(s=>{let C=s.touches[0];h(C.clientX,C.clientY);},[h]),g=useCallback(s=>{let C=s.touches[0];p(C.clientX,C.clientY);},[p]),w=useCallback(()=>{c();},[c]),k=useCallback(s=>{s.preventDefault(),h(s.clientX,s.clientY);},[h]),R=useCallback(s=>{m&&p(s.clientX,s.clientY);},[m,p]),M=useCallback(()=>{m&&c();},[m,c]),I=useCallback(()=>{m&&c();},[m,c]);return useEffect(()=>{let s=t.current;if(s)return s.addEventListener("touchstart",d,{passive:true}),s.addEventListener("touchmove",g,{passive:true}),s.addEventListener("touchend",w),s.addEventListener("touchcancel",w),s.addEventListener("mousedown",k),s.addEventListener("mousemove",R),s.addEventListener("mouseup",M),s.addEventListener("mouseleave",I),()=>{s.removeEventListener("touchstart",d),s.removeEventListener("touchmove",g),s.removeEventListener("touchend",w),s.removeEventListener("touchcancel",w),s.removeEventListener("mousedown",k),s.removeEventListener("mousemove",R),s.removeEventListener("mouseup",M),s.removeEventListener("mouseleave",I);}},[t,d,g,w,k,R,M,I]),{isDragging:m,dragProgress:x,dragOffset:v}}var a={container:{base:"relative overflow-hidden",fullWidth:"w-full",withNavigation:"group"},viewport:{base:"overflow-hidden",draggable:"cursor-grab active:cursor-grabbing"},slideContainer:{base:"flex",transition:"transition-transform duration-300 ease-out"},slide:{base:"relative flex-[0_0_100%] min-w-0",spacing:{none:"",sm:"mr-2",md:"mr-4",lg:"mr-6",xl:"mr-8"}},navigation:{arrow:{base:"absolute top-1/2 -translate-y-1/2 z-10 flex items-center justify-center transition-all",disabled:"opacity-50 cursor-not-allowed",enabled:"opacity-100 cursor-pointer hover:scale-110",variants:{circle:"w-10 h-10 rounded-full bg-white/80 hover:bg-white shadow-md",square:"w-10 h-10 rounded bg-white/80 hover:bg-white shadow-md",minimal:"w-8 h-8 text-white hover:text-gray-200"},position:{inside:{prev:"left-4",next:"right-4"},outside:{prev:"-left-12",next:"-right-12"}}},icon:{base:"w-5 h-5"}},dots:{container:{base:"flex items-center justify-center gap-2 z-10",position:{bottom:"absolute bottom-4 left-1/2 -translate-x-1/2",top:"absolute top-4 left-1/2 -translate-x-1/2",left:"absolute left-4 top-1/2 -translate-y-1/2 flex-col",right:"absolute right-4 top-1/2 -translate-y-1/2 flex-col"}},dot:{base:"transition-all cursor-pointer",variants:{dots:{base:"w-2 h-2 rounded-full",active:"bg-white w-8",inactive:"bg-white/50 hover:bg-white/70"},lines:{base:"h-1 rounded-full",active:"bg-white w-8",inactive:"bg-white/50 w-4 hover:bg-white/70"},numbers:{base:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium",active:"bg-white text-black",inactive:"bg-white/20 text-white hover:bg-white/30"}}}},heroSlider:{container:"relative w-full",slide:"relative w-full h-full",image:"w-full h-full object-cover",overlay:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent",content:"absolute inset-0 flex items-center justify-center p-8",height:{sm:"h-64",md:"h-96",lg:"h-[32rem]",xl:"h-[40rem]",full:"h-screen"}},productCarousel:{container:"relative",item:"relative group",image:"w-full aspect-square object-cover group-hover:scale-105 transition-transform duration-300",content:"p-4",overlay:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300",actions:"absolute bottom-4 left-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},autoPlay:{indicator:"absolute top-4 right-4 z-10",button:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 hover:bg-white shadow-md transition-all",icon:"w-4 h-4"},progressBar:{container:"absolute bottom-0 left-0 right-0 h-1 bg-black/20",fill:"h-full bg-white transition-all duration-300 ease-linear"}};function de(t="default",o,e){return U(a.container.base,e?.fullWidth&&a.container.fullWidth,e?.showNavigation&&a.container.withNavigation,o)}function Y(t="circle",o="inside",e,n=false){return U(a.navigation.arrow.base,a.navigation.arrow.variants[t],a.navigation.arrow.position[o][e],n?a.navigation.arrow.disabled:a.navigation.arrow.enabled)}function _(t="dots",o=false){return U(a.dots.dot.base,a.dots.dot.variants[t].base,o?a.dots.dot.variants[t].active:a.dots.dot.variants[t].inactive)}function me(t="md",o=false){return U(a.slide.base,!o&&a.slide.spacing[t])}function $(t={}){let{variant:o="default",fullWidth:e=false,showNavigation:n=false,isDraggable:u=true,className:i}=t;return useMemo(()=>({container:U(a.container.base,e&&a.container.fullWidth,n&&a.container.withNavigation,o==="hero"&&a.heroSlider.container,o==="product"&&a.productCarousel.container,i),viewport:U(a.viewport.base,u&&a.viewport.draggable),slideContainer:a.slideContainer.base,slide:(l,x,b)=>{let v=l===x-1;return U(a.slide.base,!v&&b&&a.slide.spacing[b],o==="hero"&&a.heroSlider.slide,o==="product"&&a.productCarousel.item)}}),[o,e,n,u,i])}var F=({onPrevClick:t,onNextClick:o,canScrollPrev:e,canScrollNext:n,variant:u="circle",position:i="inside",className:m})=>jsxs(Fragment,{children:[jsx("button",{type:"button",onClick:t,disabled:!e,className:Y(u,i,"prev",!e),"aria-label":"Previous slide",children:jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),jsx("button",{type:"button",onClick:o,disabled:!n,className:Y(u,i,"next",!n),"aria-label":"Next slide",children:jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]});var j=({totalSlides:t,currentSlide:o,onDotClick:e,variant:n="dots",position:u="bottom",className:i})=>jsx("div",{className:U(a.dots.container.base,a.dots.container.position[u],i),children:Array.from({length:t}).map((m,l)=>jsx("button",{type:"button",onClick:()=>e(l),className:_(n,l===o),"aria-label":`Go to slide ${l+1}`,children:n==="numbers"&&l+1},l))});var N=forwardRef(({items:t,options:o,autoPlay:e=false,showNavigation:n=true,showDots:u=true,className:i,style:m,onSlideChange:l,renderItem:x},b)=>{let v=useRef(e?xe(typeof e=="object"?e:{delay:4e3,stopOnInteraction:true}):null),[f,r]=ie(o,v.current?[v.current]:[]),h=$({showNavigation:n,isDraggable:o?.draggable!==false,className:i});P.useEffect(()=>{if(!r)return;let s=()=>{l&&l(r.selectedScrollSnap());};return r.on("select",s),()=>{r.off("select",s);}},[r,l]);let p=P.useCallback(()=>{r&&r.scrollPrev();},[r]),c=P.useCallback(()=>{r&&r.scrollNext();},[r]),d=P.useCallback(s=>{r&&r.scrollTo(s);},[r]),[g,w]=P.useState(0),[k,R]=P.useState(false),[M,I]=P.useState(false);return P.useEffect(()=>{if(!r)return;let s=()=>{w(r.selectedScrollSnap()),R(r.canScrollPrev()),I(r.canScrollNext());};return s(),r.on("select",s),r.on("reInit",s),()=>{r.off("select",s),r.off("reInit",s);}},[r]),jsxs("div",{ref:b,className:h.container,style:m,children:[jsx("div",{className:h.viewport,ref:f,children:jsx("div",{className:h.slideContainer,children:t.map((s,C)=>jsx("div",{className:h.slide(C,t.length,"md"),children:x?x(s,C):s.content},s.id))})}),n&&jsx(F,{onPrevClick:p,onNextClick:c,canScrollPrev:k,canScrollNext:M}),u&&jsx(j,{totalSlides:t.length,currentSlide:g,onDotClick:d})]})});N.displayName="BaseCarousel";var H=forwardRef(({items:t,height:o="lg",fullWidth:e=true,overlay:n=true,overlayContent:u,transitionDuration:i=300,options:m,...l},x)=>{let b=typeof o=="string"?a.heroSlider.height[o]:void 0,v={loop:true,align:"start",containScroll:false,...m,duration:i},f=(r,h)=>{let p=typeof r.content=="string"&&(r.content.startsWith("http")||r.content.startsWith("/"));return jsxs("div",{className:"relative w-full h-full",children:[p?jsx("img",{src:r.content,alt:r.metadata?.alt||`Slide ${h+1}`,className:a.heroSlider.image}):r.content,n&&jsx("div",{className:a.heroSlider.overlay}),u&&jsx("div",{className:a.heroSlider.content,children:u}),r.metadata?.title&&jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[jsx("h2",{className:"text-4xl font-bold mb-2",children:r.metadata.title}),r.metadata.subtitle&&jsx("p",{className:"text-xl",children:r.metadata.subtitle})]})]})};return jsx("div",{className:U(a.heroSlider.container,b,e&&"w-full"),style:typeof o=="number"?{height:o}:void 0,children:jsx(N,{ref:x,items:t,options:v,renderItem:f,className:"h-full",...l})})});H.displayName="HeroSlider";var B=forwardRef(({items:t,itemsPerView:o=4,spacing:e=16,showAddToCart:n=true,showQuickView:u=true,onAddToCart:i,onQuickView:m,options:l,...x},b)=>{let f={align:"start",containScroll:"trimSnaps",slidesToScroll:o==="auto"?1:Math.max(1,Math.floor(o/2)),...l},r=(p,c)=>{let d=p.metadata||{},g=typeof p.content=="string"&&(p.content.startsWith("http")||p.content.startsWith("/"));return jsxs("div",{className:a.productCarousel.item,children:[jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[g?jsx("img",{src:p.content,alt:d.name||`Product ${c+1}`,className:a.productCarousel.image}):jsx("div",{className:"aspect-square bg-gray-200 flex items-center justify-center",children:p.content}),jsx("div",{className:a.productCarousel.overlay}),(n||u)&&jsxs("div",{className:a.productCarousel.actions,children:[u&&jsx("button",{onClick:()=>m?.(p),className:"flex-1 bg-white text-gray-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors","aria-label":"Quick view",children:"Quick View"}),n&&jsx("button",{onClick:()=>i?.(p),className:"flex-1 bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-800 transition-colors","aria-label":"Add to cart",children:"Add to Cart"})]})]}),(d.name||d.price)&&jsxs("div",{className:a.productCarousel.content,children:[d.name&&jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:d.name}),d.price&&jsx("p",{className:"text-gray-600",children:typeof d.price=="number"?`$${d.price.toFixed(2)}`:d.price})]})]})},h=o==="auto"?void 0:{"--items-per-view":o,"--spacing":`${e}px`};return jsx("div",{className:a.productCarousel.container,style:h,children:jsx(N,{ref:b,items:t,options:f,renderItem:r,...x})})});B.displayName="ProductCarousel";var Q=forwardRef(({variant:t="default",...o},e)=>{switch(t){case "hero":return jsx(H,{ref:e,...o});case "product":return jsx(B,{ref:e,...o});default:return jsx(N,{ref:e,...o})}});Q.displayName="Carousel";function Te(t,o,e){if(!o||!o.length)return t;let n=e||(typeof window<"u"?window.innerWidth:0),i=[...o].sort((m,l)=>l.breakpoint-m.breakpoint).find(m=>n>=m.breakpoint);return i?{...t,...i.settings}:t}function Ee(t,o,e=0){if(t<=0||o<=0)return 1;let n=o+e,u=Math.floor((t+e)/n);return Math.max(1,u)}function Le(t,o,e,n=1,u=false){let i=t;return o==="next"?(i=t+n,i>=e&&(i=u?0:e-1)):(i=t-n,i<0&&(i=u?e-1:0)),i}function ke(t,o,e){if(e<=1)return 100;let n=o/(e-1)*100,u=t/(e-1)*100;return Math.min(100,Math.max(0,n+u))}function Re(){return typeof window>"u"?false:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function Me(t,o){let e=null;return (...n)=>{e&&clearTimeout(e),e=setTimeout(()=>{t(...n);},o);}}function Ie(t,o){let e=false;return (...n)=>{e||(t(...n),e=true,setTimeout(()=>{e=false;},o));}}function De(t,o,e=0){return `translateX(${(t-o)*100+e}%)`}function Ae(t){return `${t}ms`}function Oe(t){let o=t.map(e=>new Promise((n,u)=>{let i=new Image;i.onload=()=>n(),i.onerror=()=>u(new Error(`Failed to load image: ${e}`)),i.src=e;}));return Promise.all(o)}export{N as BaseCarousel,Q as Carousel,H as HeroSlider,F as NavigationArrows,j as NavigationDots,B as ProductCarousel,ke as calculateProgress,Ee as calculateSlidesPerView,a as carouselTheme,Me as debounce,Ae as formatDuration,de as getCarouselClasses,_ as getDotClasses,Y as getNavigationArrowClasses,Te as getResponsiveOptions,me as getSlideClasses,De as getSlideTransform,Le as getTargetIndex,Re as isTouchDevice,Oe as preloadImages,Ie as throttle,Z as useAutoPlay,K as useCarousel,$ as useCarouselClasses,ee as useTouch};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map