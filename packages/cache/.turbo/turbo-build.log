
> @company/cache@1.0.0 build /Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/modules/cache
> tsup src/index.ts --format esm,cjs --dts

CLI Building entry: src/index.ts
CLI Using tsconfig: tsconfig.json
CLI tsup v8.5.0
CLI Target: es2020
ESM Build start
CJS Build start
ESM You have emitDecoratorMetadata enabled but @swc/core was not installed, skipping swc plugin
CJS You have emitDecoratorMetadata enabled but @swc/core was not installed, skipping swc plugin

 WARN  [33m‚ñ≤ [43;33m[[43;30mWARNING[43;33m][0m [1mThe condition "types" here will never be used as it comes after both "import" and "require"[0m [package.json]

    package.json:12:6:
[37m      12 ‚îÇ       [32m"types"[37m: "./dist/index.d.ts"
         ‚ïµ       [32m~~~~~~~[0m

  The "import" condition comes earlier and will be used for all "import" statements:

    package.json:10:6:
[37m      10 ‚îÇ       [32m"import"[37m: "./dist/index.mjs",
         ‚ïµ       [32m~~~~~~~~[0m

  The "require" condition comes earlier and will be used for all "require" calls:

    package.json:11:6:
[37m      11 ‚îÇ       [32m"require"[37m: "./dist/index.js",
         ‚ïµ       [32m~~~~~~~~~[0m




 WARN  [33m‚ñ≤ [43;33m[[43;30mWARNING[43;33m][0m [1mThe condition "types" here will never be used as it comes after both "import" and "require"[0m [package.json]

    package.json:12:6:
[37m      12 ‚îÇ       [32m"types"[37m: "./dist/index.d.ts"
         ‚ïµ       [32m~~~~~~~[0m

  The "import" condition comes earlier and will be used for all "import" statements:

    package.json:10:6:
[37m      10 ‚îÇ       [32m"import"[37m: "./dist/index.mjs",
         ‚ïµ       [32m~~~~~~~~[0m

  The "require" condition comes earlier and will be used for all "require" calls:

    package.json:11:6:
[37m      11 ‚îÇ       [32m"require"[37m: "./dist/index.js",
         ‚ïµ       [32m~~~~~~~~~[0m



ESM dist/index.mjs 33.59 KB
ESM ‚ö°Ô∏è Build success in 71ms
CJS dist/index.js 35.37 KB
CJS ‚ö°Ô∏è Build success in 71ms
DTS Build start
src/CacheManager.ts(6,30): error TS6133: 'Logger' is declared but its value is never read.
src/CacheManager.ts(6,58): error TS6059: File '/Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/modules/core/src/index.ts' is not under 'rootDir' 'src'. 'rootDir' is expected to contain all source files.
  The file is in the program because:
    Imported via '@company/core' from file '/Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/modules/cache/src/CacheManager.ts'
    Imported via '@company/core' from file '/Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/modules/cache/src/types/index.ts'
    Imported via '@company/core' from file '/Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/modules/cache/src/strategies/LRUStrategy.ts'
    Imported via '@company/core' from file '/Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/modules/cache/src/strategies/LFUStrategy.ts'
    Imported via '@company/core' from file '/Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/modules/cache/src/strategies/FIFOStrategy.ts'
src/CacheManager.ts(23,3): error TS6133: 'EvictionReason' is declared but its value is never read.
src/CacheManager.ts(27,14): error TS2654: Non-abstract class 'CacheManager<T>' is missing implementations for the following members of 'ModuleBase': 'onInitialize', 'onDestroy', 'healthCheck'.
src/CacheManager.ts(29,11): error TS2416: Property 'config' in type 'CacheManager<T>' is not assignable to the same property in base type 'ModuleBase'.
  Type 'Required<CacheConfig>' is missing the following properties from type 'ModuleConfig': name, version
src/CacheManager.ts(29,11): error TS4114: This member must have an 'override' modifier because it overrides a member in the base class 'ModuleBase'.
src/CacheManager.ts(30,11): error TS4114: This member must have an 'override' modifier because it overrides a member in the base class 'ModuleBase'.
src/CacheManager.ts(244,22): error TS2379: Argument of type '{ type: CacheEventType.CLEAR; key: string; namespace: string | undefined; timestamp: number; }' is not assignable to parameter of type 'CacheEvent<T>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'namespace' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
src/CacheManager.ts(274,28): error TS2345: Argument of type '(T & {}) | undefined' is not assignable to parameter of type 'T'.
  'T' could be instantiated with an arbitrary type which could be unrelated to '(T & {}) | undefined'.
src/CacheManager.ts(395,23): error TS2345: Argument of type '(T & {}) | undefined' is not assignable to parameter of type 'T'.
  'T' could be instantiated with an arbitrary type which could be unrelated to '(T & {}) | undefined'.
src/CacheManager.ts(426,30): error TS2322: Type '(T & {}) | undefined' is not assignable to type 'T'.
  'T' could be instantiated with an arbitrary type which could be unrelated to '(T & {}) | undefined'.
src/CacheManager.ts(455,13): error TS6133: 'tagSet' is declared but its value is never read.
src/CacheManager.ts(721,10): error TS2416: Property 'on' in type 'CacheManager<T>' is not assignable to the same property in base type 'ModuleBase'.
  Type '(event: CacheEventType, listener: CacheEventListener<T>) => void' is not assignable to type '(eventType: string, handler: EventHandler) => string'.
    Types of parameters 'listener' and 'handler' are incompatible.
      Types of parameters 'event' and 'event' are incompatible.
        Type 'CacheEvent<T>' is not assignable to type 'ModuleEvent & { payload: any; }'.
          Type 'CacheEvent<T>' is missing the following properties from type 'ModuleEvent': id, source
src/CacheManager.ts(721,10): error TS4114: This member must have an 'override' modifier because it overrides a member in the base class 'ModuleBase'.
src/CacheManager.ts(723,35): error TS2345: Argument of type 'CacheEventListener<T>' is not assignable to parameter of type 'EventHandler<any>'.
  Types of parameters 'event' and 'event' are incompatible.
    Property 'key' is missing in type 'ModuleEvent & { payload: any; }' but required in type 'CacheEvent<T>'.
src/CacheManager.ts(730,10): error TS2416: Property 'off' in type 'CacheManager<T>' is not assignable to the same property in base type 'ModuleBase'.
  Type '(event: CacheEventType, listener: CacheEventListener<T>) => void' is not assignable to type '(subscriptionId: string) => void'.
    Target signature provides too few arguments. Expected 2 or more, but got 1.
src/CacheManager.ts(730,10): error TS4114: This member must have an 'override' modifier because it overrides a member in the base class 'ModuleBase'.
src/CacheManager.ts(731,34): error TS2554: Expected 1 arguments, but got 2.
src/CacheManager.ts(737,10): error TS2416: Property 'once' in type 'CacheManager<T>' is not assignable to the same property in base type 'ModuleBase'.
  Type '(event: CacheEventType, listener: CacheEventListener<T>) => void' is not assignable to type '(eventType: string, handler: EventHandler) => string'.
    Types of parameters 'listener' and 'handler' are incompatible.
      Types of parameters 'event' and 'event' are incompatible.
        Type 'CacheEvent<T>' is not assignable to type 'ModuleEvent & { payload: any; }'.
          Type 'CacheEvent<T>' is missing the following properties from type 'ModuleEvent': id, source
src/CacheManager.ts(737,10): error TS4114: This member must have an 'override' modifier because it overrides a member in the base class 'ModuleBase'.
src/CacheManager.ts(739,37): error TS2345: Argument of type 'CacheEventListener<T>' is not assignable to parameter of type 'EventHandler<any>'.
  Types of parameters 'event' and 'event' are incompatible.
    Property 'key' is missing in type 'ModuleEvent & { payload: any; }' but required in type 'CacheEvent<T>'.
src/CacheManager.ts(883,16): error TS2416: Property 'destroy' in type 'CacheManager<T>' is not assignable to the same property in base type 'ModuleBase'.
  Type '() => Promise<void>' is not assignable to type '() => Promise<Result<void, Error>>'.
    Type 'Promise<void>' is not assignable to type 'Promise<Result<void, Error>>'.
      Type 'void' is not assignable to type 'Result<void, Error>'.
src/CacheManager.ts(883,16): error TS4114: This member must have an 'override' modifier because it overrides a member in the base class 'ModuleBase'.

Error: error occurred in dts build
    at Worker.<anonymous> (/Users/default/·ÑÜ·Ö©·ÑÉ·Ö≤·ÜØ·Ñí·Ö™/node_modules/.pnpm/tsup@8.5.0_typescript@5.8.3/node_modules/tsup/dist/index.js:1545:26)
    at Worker.emit (node:events:507:28)
    at MessagePort.<anonymous> (node:internal/worker:268:53)
    at [nodejs.internal.kHybridDispatch] (node:internal/event_target:827:20)
    at MessagePort.<anonymous> (node:internal/per_context/messageport:23:28)
DTS Build error
‚ÄâELIFECYCLE‚Äâ Command failed with exit code 1.
